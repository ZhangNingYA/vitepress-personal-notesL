# my-notes (VitePress)

蹭GitHub免费的page节点 来个投影公式


# 🔦 投影与子空间
<div style="color: var(--vp-c-text-2); font-size: 0.9em; margin-bottom: 2rem;">MIT 18.06 Linear Algebra - Lecture 15</div>

 🎯 本讲核心目标
如果 $Ax=b$ 无解怎么办？
我们不再寻找完美的解，而是寻找**误差最小**的解。
这就引出了本课的两大主角：**投影 (Projection)** 和 **投影矩阵 (Projection Matrix)**。


## 1. 为什么需要投影？

在现实生活中，方程组 $Ax=b$ 通常是**无解**的。
因为方程的数量 ($m$) 远远多于未知数的数量 ($n$)。这叫**超定方程组 (Overdetermined System)**。

几何上看，这意味着向量 $b$ **不在** $A$ 的列空间 $C(A)$ 里。

### 🎨 直观演示：无解的几何意义
试图让一条直线同时穿过不在一条线上的三个点。
调整下面的 **截距 C** 和 **斜率 D**，你会发现无论如何都无法让红色的误差线全部消失。

<LeastSquaresIntro />

既然 $b$ 不在列空间里，我们只能在列空间里找一个**最接近** $b$ 的向量，这个向量就是 $p$（投影）。

---

## 2. 一维投影：投影到直线上

让我们从最简单的情况开始：把向量 $b$ 投影到向量 $a$ 上（即投影到一维子空间）。

### 2.1 寻找公式
我们想找到 $a$ 上的一点 $p$，使得误差 $e = b - p$ 最小。
几何告诉我们，当 **$e$ 垂直于 $a$** 时，距离最短。

$$p = \hat{x} a$$

其中 $\hat{x}$ 是一个标量（系数）。由于 $a \perp e$，所以：

$$a^T (b - \hat{x}a) = 0$$

展开它：
$$a^T b - \hat{x} a^T a = 0$$

🌟 关键公式 1
求得投影系数 $\hat{x}$：
$$\hat{x} = \frac{a^T b}{a^T a}$$


### 🕹️ 交互实验
拖动下面的数值，观察绿色投影向量 $p$ 和红色误差向量 $e$。
注意：**红色虚线 $e$ 永远垂直于 直线 $a$**。

<ProjectionLine />

---

## 3. 投影矩阵 $P$ (The Projection Matrix)

我们知道 $p = a \hat{x}$。如果我们把上面的 $\hat{x}$ 代入：

$$p = a \frac{a^T b}{a^T a} = \frac{a a^T}{a^T a} b$$

我们可以把系数提取出来，变成矩阵形式：
$$p = P b$$

其中 $P$ 就是 **投影矩阵**：

🌟 关键公式 2
$$P = \frac{a a^T}{a^T a}$$


### 3.1 矩阵 $P$ 的性质
这个矩阵 $P$ 有两个非常有趣的性质，这是投影矩阵的身份证：

1.  **对称性 (Symmetric)**: $P^T = P$
2.  **幂等性 (Idempotent)**: $P^2 = P$

**为什么 $P^2 = P$？**
如果你投影了一次得到了 $p$，再对 $p$ 进行一次投影，结果还是 $p$。因为 $p$ 已经在直线上，再投影不会动了。

---

## 4. 高维投影：投影到子空间

现在我们将概念升级。把向量 $b$ 投影到矩阵 $A$ 的列空间上（$n$ 维子空间）。

这时候，我们寻找的不再是标量 $\hat{x}$，而是向量 $\hat{x}$。
投影向量 $p = A\hat{x}$。

### 4.1 核心推导
关键几何条件依然不变：**误差向量 $e = b - A\hat{x}$ 必须垂直于整个子空间。**
这意味着 $e$ 垂直于 $A$ 的每一个列向量。

用矩阵语言描述就是：
$$A^T (b - A\hat{x}) = 0$$

展开得到线性代数中最著名的方程之一：

 🔥 正规方程 (Normal Equations)
$$A^T A \hat{x} = A^T b$$


### 4.2 求解 $\hat{x}$ 和 $P$
如果 $A$ 的列是线性无关的，那么 $A^T A$ 是可逆的。我们可以反解出 $\hat{x}$：

$$\hat{x} = (A^T A)^{-1} A^T b$$

将 $\hat{x}$ 代回 $p = A\hat{x}$，我们得到了高维的投影矩阵 $P$：

$$P = A(A^T A)^{-1} A^T$$

*(注意：你不能把括号里的逆拆开，因为 $A$ 并不是方阵，没有逆矩阵，只有 $A^T A$ 这个方阵才有逆)*

---

## 5. 总结

1.  当 $Ax=b$ 无解时，我们求解 $A^T A \hat{x} = A^T b$。
2.  **误差向量** $e$ 永远垂直于 **列空间**。
3.  投影矩阵 $P$ 就像一个魔法机器，把任何向量“压扁”到子空间里。
